syntax = "proto3";

package mentor.types.bot;

import "mentor/types/common.proto";
import "mentor/types/identity.proto";
import "google/protobuf/timestamp.proto";

// Сущность Бот (Эксперт или Двойник).
message Bot {
  message Id {
    uint32 id = 1;
  }
  message Ids {
    repeated uint32 ids = 1;
  }
  message List {
    repeated Bot items = 1;
  }
  // Жанр бота (Классификация).
  message Genre {
    enum Id {
      UNSPECIFIED = 0; // Не указан
      TWIN = 1;        // Двойник (создан пользователем)
      EXPERT = 2;      // Эксперт (создан компанией)
    }
    Id id = 1;
  }
  // Статус жизненного цикла бота.
  message Status {
    enum Id {
      UNSPECIFIED = 0; // Не указан
      DRAFT = 1;       // Черновик
      MODERATION = 2;  // На модерации
      PUBLISHED = 3;   // Опубликован (в каталоге)
      ARCHIVED = 4;    // В архиве (удален автором)
      BLOCKED = 5;     // Заблокирован администрацией
    }
    Id id = 1;
  }
  
  uint32 id = 1;

  // Идентификация.
  string system_name = 2; // Уникальный хендл (@handle).
  string display_name = 3; // Отображаемое имя.
  string avatar_url = 4;   // URL изображения (обложки).
  
  // Описания.
  string short_description = 5; // Краткое (для карточки).
  string long_description = 6;  // Полное (для детальной страницы).

  // Инфо о создателе.
  mentor.types.identity.PublicUserProfile creator = 7;
  
  // Классификация.
  Genre.Id genre = 8;
  repeated string tags = 9; // Теги категорий.

  // Статус и статистика.
  Status.Id status = 10;
  
  bool is_hot = 11;      // Трендовый.
  bool is_archived = 12; // В архиве (контекстно).
  bool is_favorite = 13; // В избранном (контекстно).
  bool is_subscribed = 14; // Есть активная подписка (контекстно).

  mentor.types.Rating rating = 15;

  uint32 version = 16;
  google.protobuf.Timestamp updated_at = 17;
}
